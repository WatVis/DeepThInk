{"ast":null,"code":"Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}var Bus=function(){function Bus(send){_classCallCheck(this,Bus);this._paused=false;this._messageListeners={};this._queue=[];this._send=send;}_createClass(Bus,[{key:\"post\",value:function post(message){var _this=this;return new Promise(function(resolve){_this._messageListeners[message.id]=resolve;if(!_this._paused){_this._send(message);}else{_this._queue.push(message);}});}},{key:\"handle\",value:function handle(message){var handler=this._messageListeners[message.id];if(handler){handler(message);}else{console.warn('Received unexpected message',message);}}},{key:\"pause\",value:function pause(){this._paused=true;}},{key:\"resume\",value:function resume(){this._paused=false;this._send(this._queue);this._queue=[];}}]);return Bus;}();exports.default=Bus;","map":{"version":3,"sources":["/mnt/427bdd3d-17db-4d44-b722-f3e4fd35d808/projects/gauGAN/hai-art/client-expo/node_modules/react-native-canvas/dist/Bus.js"],"names":["Object","defineProperty","exports","value","default","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","prototype","Bus","send","_paused","_messageListeners","_queue","_send","post","message","_this","Promise","resolve","id","push","handle","handler","console","warn","pause","resume"],"mappings":"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","sourcesContent":["Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Bus = function () {\n  function Bus(send) {\n    _classCallCheck(this, Bus);\n\n    this._paused = false;\n    this._messageListeners = {};\n    this._queue = [];\n    this._send = send;\n  }\n\n  _createClass(Bus, [{\n    key: \"post\",\n    value: function post(message) {\n      var _this = this;\n\n      return new Promise(function (resolve) {\n        _this._messageListeners[message.id] = resolve;\n\n        if (!_this._paused) {\n          _this._send(message);\n        } else {\n          _this._queue.push(message);\n        }\n      });\n    }\n  }, {\n    key: \"handle\",\n    value: function handle(message) {\n      var handler = this._messageListeners[message.id];\n\n      if (handler) {\n        handler(message);\n      } else {\n        console.warn('Received unexpected message', message);\n      }\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this._paused = true;\n    }\n  }, {\n    key: \"resume\",\n    value: function resume() {\n      this._paused = false;\n\n      this._send(this._queue);\n\n      this._queue = [];\n    }\n  }]);\n\n  return Bus;\n}();\n\nexports.default = Bus;"]},"metadata":{},"sourceType":"script"}