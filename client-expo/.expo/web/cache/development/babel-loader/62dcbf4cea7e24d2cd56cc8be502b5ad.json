{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/mnt/427bdd3d-17db-4d44-b722-f3e4fd35d808/projects/gauGAN/hai-art/client-expo/App.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport AppRegistry from \"react-native-web/dist/exports/AppRegistry\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport DrawCanvas from \"./components/DrawCanvas\";\nimport Slider from '@react-native-community/slider';\nimport axios from 'axios';\nimport colorMap from \"./constants/colorMap.js\";\nimport styleTransferOptions from \"./constants/styleTransferOptions.js\";\nimport messageKinds from \"./constants/messageKinds.js\";\nimport { onOpen, onClose, onMessage, onError, sendStroke, sendStrokeEnd, sendStrokeStart } from \"./api/websocketApi.js\";\nimport { sendRequest, sendRequestStyle } from \"./api/modelApi.js\";\nimport { hello, generateStyle } from \"./styles/styles.js\";\nimport Point from \"./classes/Point\";\nvar device = Dimensions.get('window');\n\nvar App = function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      imageData: 'data:image/png;base64,',\n      generatedImageData: 'data:image/png;base64,',\n      stylizedImageData: 'data:image/png;base64,',\n      displayedImageData: 'data:image/png;base64,',\n      style: 'none',\n      color: '#384f83',\n      thickness: 10,\n      ownStroke: [],\n      collaboratorStroke: [],\n      socket: Platform.OS === \"web\" ? new WebSocket('ws://localhost:8080/ws') : new WebSocket('ws://10.0.2.2:8080/ws')\n    };\n\n    _this.grabPixels = function _callee() {\n      var getImage;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              getImage = _this.refs.drawCanvasRef.getBase64().then(function (value) {\n                var resultImage = value.split(';base64,')[1];\n                console.log(\"result image is\", resultImage);\n\n                _this.setState(function (prevState) {\n                  return _objectSpread(_objectSpread({}, prevState), {}, {\n                    imageData: resultImage\n                  });\n                }, _this.sendRequestHelper);\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.sendRequestHelper = function _callee2() {\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this.state.socket.send(JSON.stringify({\n                kind: messageKinds.MESSAGE_GENERATE,\n                data: {\n                  imageData: _this.state.imageData\n                }\n              }));\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.sendRequestStyleHelper = function _callee3(newStyle) {\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _this.state.socket.send(JSON.stringify({\n                kind: messageKinds.MESSAGE_STYLIZE,\n                data: {\n                  imageData: _this.state.generatedImageData,\n                  style: newStyle\n                }\n              }));\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.handleThickness = function (sliderValue) {\n      _this.setState(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          thickness: sliderValue\n        });\n      });\n\n      console.log('thickness is now', sliderValue);\n    };\n\n    _this.onMesageHandler = function (event) {\n      var messages = event.data.split('\\n');\n\n      for (var i = 0; i < messages.length; i++) {\n        var message = JSON.parse(messages[i]);\n\n        _this.executeMessage(message);\n      }\n    };\n\n    _this.executeMessage = function (message) {\n      switch (message.kind) {\n        case messageKinds.MESSAGE_STROKE_START:\n          console.log(\"RECEIVED STROKE STARTT\", message);\n\n          _this.setState(function (prevState) {\n            return _objectSpread(_objectSpread({}, prevState), {}, {\n              collaboratorStroke: [].concat(_toConsumableArray(prevState.collaboratorStroke), [new Point(message.point.x, message.point.y, message.thickness, message.color, \"start\")])\n            });\n          });\n\n          break;\n\n        case messageKinds.MESSAGE_STROKE:\n          _this.setState(function (prevState) {\n            return _objectSpread(_objectSpread({}, prevState), {}, {\n              collaboratorStroke: [].concat(_toConsumableArray(prevState.collaboratorStroke), [new Point(message.point.x, message.point.y, message.thickness, message.color, \"move\")])\n            });\n          });\n\n          break;\n\n        case messageKinds.MESSAGE_STROKE_END:\n          _this.setState(function (prevState) {\n            return _objectSpread(_objectSpread({}, prevState), {}, {\n              collaboratorStroke: []\n            });\n          });\n\n          break;\n\n        case messageKinds.MESSAGE_GENERATE:\n          console.log('got generate mesage here', message);\n\n          _this.setState(function (prevState) {\n            return _objectSpread(_objectSpread({}, prevState), {}, {\n              generatedImageData: message.imageData,\n              displayedImageData: message.imageData\n            });\n          });\n\n          break;\n\n        case messageKinds.MESSAGE_STYLIZE:\n          console.log('image stylize', message);\n\n          _this.setState(function (prevState) {\n            return _objectSpread(_objectSpread({}, prevState), {}, {\n              style: message.style,\n              stylizedImageData: message.imageData,\n              displayedImageData: message.imageData\n            });\n          });\n\n          break;\n      }\n    };\n\n    _this.sendRequestHelper = _this.sendRequestHelper.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log('Attempting connection');\n\n      this.state.socket.onopen = function () {\n        onOpen(_this2.state.socket, {\n          canvasWidth: styles.drawBox.width,\n          canvasHeight: styles.drawBox.height\n        });\n      };\n\n      this.state.socket.onclose = function (event) {\n        onClose(event);\n      };\n\n      this.state.socket.onerror = function (error) {\n        onError(error);\n      };\n\n      this.state.socket.onmessage = function (event) {\n        _this2.onMesageHandler(event);\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.drawGroup,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 9\n        }\n      }, React.createElement(DrawCanvas, {\n        ref: \"drawCanvasRef\",\n        style: \"a useless field that cant style\",\n        thickness: this.state.thickness,\n        color: this.state.color,\n        socket: this.state.socket,\n        otherStrokes: this.state.collaboratorStroke,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }\n      }), React.createElement(View, {\n        style: styles.toolGroup,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.strokeGroup,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: '#07235c',\n          fontWeight: 'bold',\n          fontSize: device.height * 0.025\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 17\n        }\n      }, \"Stroke size:\"), React.createElement(Slider, {\n        style: {\n          width: device.width * 0.14,\n          height: device.height * 0.028,\n          marginBottom: 10\n        },\n        minimumValue: 1,\n        maximumValue: device.width * device.height * (1 / Math.pow(10, 4)),\n        minimumTrackTintColor: \"#000000\",\n        maximumTrackTintColor: \"#000000\",\n        onSlidingComplete: this.handleThickness,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 17\n        }\n      })), React.createElement(View, {\n        style: styles.tempButtons,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 15\n        }\n      }, React.createElement(View, {\n        style: {\n          justifyContent: 'flex-end',\n          paddingHorizontal: 5\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: [styles.functionButton],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        style: (styles.tempIcons, {\n          color: '#073ead'\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 21\n        }\n      }, React.createElement(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: device.height * 0.03,\n        height: device.height * 0.03,\n        fill: \"currentColor\",\n        class: \"bi bi-arrow-counterclockwise\",\n        viewBox: \"0 0 16 16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 23\n        }\n      }, React.createElement(\"path\", {\n        \"fill-rule\": \"evenodd\",\n        d: \"M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 25\n        }\n      }), React.createElement(\"path\", {\n        d: \"M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 25\n        }\n      }))))), React.createElement(View, {\n        style: {\n          justifyContent: 'flex-end',\n          paddingHorizontal: 5\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: [styles.functionButton],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        style: (styles.tempIcons, {\n          color: '#073ead'\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 21\n        }\n      }, React.createElement(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: device.height * 0.03,\n        height: device.height * 0.03,\n        fill: \"currentColor\",\n        class: \"bi bi-arrow-clockwise\",\n        viewBox: \"0 0 16 16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 23\n        }\n      }, React.createElement(\"path\", {\n        \"fill-rule\": \"evenodd\",\n        d: \"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 25\n        }\n      }), React.createElement(\"path\", {\n        d: \"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 25\n        }\n      }))))), React.createElement(View, {\n        style: {\n          justifyContent: 'flex-end',\n          paddingHorizontal: 5\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: [styles.functionButton],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        style: (styles.tempIcons, {\n          color: '#07235c'\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }\n      }, React.createElement(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: device.height * 0.03,\n        height: device.height * 0.03,\n        fill: \"currentColor\",\n        class: \"bi bi-pencil-fill\",\n        viewBox: \"0 0 16 16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 23\n        }\n      }, React.createElement(\"path\", {\n        d: \"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 25\n        }\n      }))))), React.createElement(View, {\n        style: {\n          justifyContent: 'flex-end',\n          paddingHorizontal: 5\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: [styles.functionButton],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        style: (styles.tempIcons, {\n          color: '#07235c'\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 21\n        }\n      }, React.createElement(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: device.height * 0.03,\n        height: device.height * 0.03,\n        fill: \"currentColor\",\n        class: \"bi bi-eraser-fill\",\n        viewBox: \"0 0 16 16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 23\n        }\n      }, React.createElement(\"path\", {\n        d: \"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 25\n        }\n      }))))), React.createElement(View, {\n        style: {\n          justifyContent: 'flex-end',\n          paddingHorizontal: 5\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: [styles.functionButton],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        style: (styles.tempIcons, {\n          color: '#07235c'\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 21\n        }\n      }, React.createElement(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: device.height * 0.03,\n        height: device.height * 0.03,\n        fill: \"currentColor\",\n        class: \"bi bi-trash-fill\",\n        viewBox: \"0 0 16 16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 23\n        }\n      }, React.createElement(\"path\", {\n        d: \"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 25\n        }\n      }))))))), React.createElement(View, {\n        style: {\n          flexDirection: 'row',\n          justifyContent: 'space-around',\n          alignItems: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: 'row'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }\n      }, colorMap.colors.map(function (obj) {\n        return React.createElement(View, {\n          style: {\n            margin: 2\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 19\n          }\n        }, React.createElement(TouchableOpacity, {\n          style: [styles.functionButton, {\n            backgroundColor: obj.color\n          }],\n          onPress: function onPress() {\n            _this3.setState({\n              color: obj.color\n            });\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 21\n          }\n        }, React.createElement(Text, {\n          style: {\n            color: 'white',\n            fontSize: device.height * 0.025\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 23\n          }\n        }, obj.label)));\n      })), React.createElement(Text, {\n        style: {\n          marginRight: 8,\n          fontSize: device.height * 0.025\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 13\n        }\n      }, this.state.message)), React.createElement(View, {\n        style: {\n          flexDirection: 'row',\n          justifyContent: 'space-around',\n          alignItems: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: 'row'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: {\n          margin: 2\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 15\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: [styles.functionButton, {\n          backgroundColor: 'gray'\n        }],\n        onPress: function onPress() {\n          _this3.setState(function (prevState) {\n            return _objectSpread(_objectSpread({}, prevState), {}, {\n              displayedImageData: _this3.state.generatedImageData\n            });\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: 'white',\n          fontSize: device.height * 0.024\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 19\n        }\n      }, \" None \"))), styleTransferOptions.styles.map(function (obj) {\n        return React.createElement(View, {\n          style: {\n            margin: 2\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 19\n          }\n        }, React.createElement(TouchableOpacity, {\n          style: [styles.functionButton, {\n            backgroundColor: 'gray'\n          }],\n          onPress: function onPress() {\n            _this3.sendRequestStyleHelper(obj.name);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 21\n          }\n        }, React.createElement(Text, {\n          style: {\n            color: 'white',\n            fontSize: device.height * 0.024\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 23\n          }\n        }, obj.label)));\n      })), React.createElement(Text, {\n        style: {\n          marginRight: 8,\n          fontSize: device.height * 0.024\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 13\n        }\n      }, this.state.message))), React.createElement(View, {\n        style: styles.genGroup,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.generatedImageBox,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }\n      }, this.state.displayedImageData != null ? React.createElement(Image, {\n        style: styles.generatedImage,\n        source: {\n          uri: this.state.displayedImageData\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 15\n        }\n      }) : null), React.createElement(View, {\n        style: styles.genButton,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 11\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: [styles.functionButton, {\n          backgroundColor: \"#841584\"\n        }],\n        onPress: this.grabPixels.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: 'white',\n          alignItems: 'center',\n          justifyContent: 'venter',\n          fontSize: device.height * 0.035\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 15\n        }\n      }, \"Generate!\")))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport { App as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'space-evenly',\n    backgroundColor: 'skyblue',\n    paddingTop: device.height * 0.02\n  },\n  drawBox: {\n    flex: 1,\n    backgroundColor: 'white',\n    borderColor: 'lightblue',\n    borderWidth: 10,\n    width: device.width * 0.5,\n    height: device.height * 0.85\n  },\n  generatedImageBox: {\n    borderWidth: 10,\n    borderColor: 'lightblue',\n    width: device.width * 0.45,\n    height: device.height * 0.85\n  },\n  generatedImage: {\n    width: device.width * 0.45,\n    height: device.height * 0.85\n  },\n  functionButton: {\n    padding: 4,\n    borderRadius: 5\n  },\n  drawGroup: {\n    flexDirection: 'column'\n  },\n  genGroup: {\n    flexDirection: 'column'\n  },\n  genButton: {\n    borderRadius: 5,\n    paddingTop: 10,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  strokeGroup: {\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  tempButtons: {\n    height: 40,\n    width: 70,\n    flexDirection: 'row'\n  },\n  tempIcons: {\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  toolGroup: {\n    flexDirection: 'row'\n  }\n});","map":{"version":3,"sources":["/mnt/427bdd3d-17db-4d44-b722-f3e4fd35d808/projects/gauGAN/hai-art/client-expo/App.js"],"names":["React","Component","DrawCanvas","Slider","axios","colorMap","styleTransferOptions","messageKinds","onOpen","onClose","onMessage","onError","sendStroke","sendStrokeEnd","sendStrokeStart","sendRequest","sendRequestStyle","hello","generateStyle","Point","device","Dimensions","get","App","props","state","imageData","generatedImageData","stylizedImageData","displayedImageData","style","color","thickness","ownStroke","collaboratorStroke","socket","Platform","OS","WebSocket","grabPixels","getImage","refs","drawCanvasRef","getBase64","then","value","resultImage","split","console","log","setState","prevState","sendRequestHelper","send","JSON","stringify","kind","MESSAGE_GENERATE","data","sendRequestStyleHelper","newStyle","MESSAGE_STYLIZE","handleThickness","sliderValue","onMesageHandler","event","messages","i","length","message","parse","executeMessage","MESSAGE_STROKE_START","point","x","y","MESSAGE_STROKE","MESSAGE_STROKE_END","bind","onopen","canvasWidth","styles","drawBox","width","canvasHeight","height","onclose","onerror","error","onmessage","container","drawGroup","toolGroup","strokeGroup","fontWeight","fontSize","marginBottom","Math","pow","tempButtons","justifyContent","paddingHorizontal","functionButton","tempIcons","flexDirection","alignItems","colors","map","obj","margin","backgroundColor","label","marginRight","name","genGroup","generatedImageBox","generatedImage","uri","genButton","StyleSheet","create","flex","paddingTop","borderColor","borderWidth","padding","borderRadius"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {\n  AppRegistry,\n  StyleSheet,\n  View,\n  Button,\n  Alert,\n  Dimensions,\n  Image,\n  TouchableOpacity,\n  Text,\n  Platform\n} from 'react-native';\n\nimport DrawCanvas from './components/DrawCanvas';\n\nimport Slider from '@react-native-community/slider';\n// import Snackbar from 'react-native-snackbar';\nimport axios from 'axios';\nimport colorMap from './constants/colorMap.js';\nimport styleTransferOptions from './constants/styleTransferOptions.js';\nimport messageKinds from './constants/messageKinds.js';\nimport {\n  onOpen,\n  onClose,\n  onMessage,\n  onError,\n  sendStroke,\n  sendStrokeEnd,\n  sendStrokeStart,\n} from './api/websocketApi.js';\nimport {sendRequest, sendRequestStyle} from './api/modelApi.js';\nimport {hello, generateStyle} from './styles/styles.js';\nimport Point from './classes/Point';\nvar device = Dimensions.get('window');\n\n\n// Connect to Go backend\n// for web\n// for android\n// let this.state.socket = new WebSocket('ws://10.0.2.2:8080/ws');\n\n// Create dynamic style based on device width/height\n// const styles = StyleSheet.create(generateStyle(device));\n\nexport default class App extends Component {\n  // React state: store the image data\n  state = {\n    imageData: 'data:image/png;base64,', // raw image data of the segmentation image\n    generatedImageData: 'data:image/png;base64,', // raw image data of the generated image\n    stylizedImageData: 'data:image/png;base64,', // raw image data of stylized generated image\n    displayedImageData: 'data:image/png;base64,', // raw image data of displayed image\n    style: 'none', // selected style\n    color: '#384f83', // pen color\n    thickness: 10, // stroke thickness\n    ownStroke: [], // client stroke data\n    collaboratorStroke: [], // collaborator data\n    // socket: new WebSocket('ws://localhost:8080/ws')\n    socket:  Platform.OS === \"web\" ? new WebSocket('ws://localhost:8080/ws') : new WebSocket('ws://10.0.2.2:8080/ws')\n\n  };\n\n  constructor(props) {\n    super(props);\n    this.sendRequestHelper = this.sendRequestHelper.bind(this);\n  }\n\n  // Run when component is first rendered\n  componentDidMount() {\n    console.log('Attempting connection');\n\n    // Setup this.state.socket handlers\n    this.state.socket.onopen = () => {\n      onOpen(this.state.socket, {\n        canvasWidth: styles.drawBox.width,\n        canvasHeight: styles.drawBox.height,\n      });\n    };\n    this.state.socket.onclose = event => {\n      onClose(event);\n    };\n    this.state.socket.onerror = error => {\n      onError(error);\n    };\n\n    this.state.socket.onmessage = event => {\n      this.onMesageHandler(event);\n    };\n  }\n\n  // Fetch image data from canvas\n  // Then call sendRequest to send the data to backend\n  grabPixels = async () => {\n    var getImage = this.refs.drawCanvasRef.getBase64().then((value) => {\n      var resultImage = value.split(';base64,')[1];\n      console.log(\"result image is\", resultImage)\n        this.setState(\n          prevState => ({\n            ...prevState,\n            imageData: resultImage,\n          }),\n          // Do callback to send to server after the imageData is set\n          this.sendRequestHelper,\n        );\n    })\n    \n  };\n\n  // Send request to model server to generate painting\n  sendRequestHelper = async () => {\n    this.state.socket.send(\n      JSON.stringify({\n        kind: messageKinds.MESSAGE_GENERATE,\n        data: {\n          imageData: this.state.imageData,\n        },\n      }),\n    );\n  };\n  // Send a request to the model server to stylize the generated painting\n  sendRequestStyleHelper = async newStyle => {\n    this.state.socket.send(\n      JSON.stringify({\n        kind: messageKinds.MESSAGE_STYLIZE,\n        data: {\n          imageData: this.state.generatedImageData,\n          style: newStyle,\n        },\n      }),\n    );\n  };\n\n  handleThickness = sliderValue => {\n    this.setState(prevState => ({\n      ...prevState,\n      thickness: sliderValue,\n    }));\n    console.log('thickness is now', sliderValue);\n  };\n\n\n\n  onMesageHandler = event => {\n    var messages = event.data.split('\\n');\n\n    for (var i = 0; i < messages.length; i++) {\n      var message = JSON.parse(messages[i]);\n      // console.log('Received message is', message);\n      this.executeMessage(message);\n    }\n    // console.log('B stringified is', JSON.stringify(this.canvas.getPaths()));\n  };\n\n  executeMessage = message => {\n    switch (message.kind) {\n      case messageKinds.MESSAGE_STROKE_START:\n        console.log(\"RECEIVED STROKE STARTT\", message)\n        // Append collaborator stroke\n        this.setState(prevState => ({\n          ...prevState,\n          collaboratorStroke: [\n            ...prevState.collaboratorStroke,\n            new Point(message.point.x, message.point.y, message.thickness, message.color, \"start\"),\n          ],\n        }));\n      \n        break;\n      case messageKinds.MESSAGE_STROKE:\n        \n        // console.log(\"received collaborator point\", message)\n        // Append collaborator stroke\n        this.setState(prevState => ({\n          ...prevState,\n          collaboratorStroke: [\n            ...prevState.collaboratorStroke,\n            new Point(message.point.x, message.point.y, message.thickness, message.color, \"move\"),\n          ],\n        }));\n        break;\n      case messageKinds.MESSAGE_STROKE_END:\n        this.setState(prevState => ({\n          ...prevState,\n          collaboratorStroke: [],\n        }));\n\n        break;\n      // User receives a generated image broadcasted from another user\n      case messageKinds.MESSAGE_GENERATE:\n        console.log('got generate mesage here', message);\n        this.setState(prevState => ({\n          ...prevState,\n          generatedImageData: message.imageData,\n          displayedImageData: message.imageData,\n        }));\n        break;\n      // User received a stylized image broadcasted from another user\n      case messageKinds.MESSAGE_STYLIZE:\n        console.log('image stylize', message);\n        this.setState(prevState => ({\n          ...prevState,\n          style: message.style,\n          stylizedImageData: message.imageData,\n          displayedImageData: message.imageData,\n        }));\n        break;\n    }\n  };\n\n\n\n  render() {\n    return (\n      <View style={styles.container}>\n        <View style={styles.drawGroup}>\n            {/* Main canvas */}\n            <DrawCanvas\n              ref=\"drawCanvasRef\"\n              style=\"a useless field that cant style\"\n              thickness={this.state.thickness}\n              color={this.state.color}\n              socket={this.state.socket}\n              otherStrokes={this.state.collaboratorStroke}\n            />\n\n            <View style={styles.toolGroup}>\n              {/* Thickness slider */}\n              <View style={styles.strokeGroup}>\n                <Text\n                  style={{\n                    color: '#07235c',\n                    fontWeight: 'bold',\n                    fontSize: device.height * 0.025,\n                  }}>\n                  Stroke size:\n                </Text>\n                <Slider\n                  style={{\n                    width: device.width * 0.14,\n                    height: device.height * 0.028,\n                    marginBottom: 10,\n                  }}\n                  minimumValue={1}\n                  maximumValue={\n                    device.width * device.height * (1 / Math.pow(10, 4))\n                  }\n                  minimumTrackTintColor=\"#000000\"\n                  maximumTrackTintColor=\"#000000\"\n                  onSlidingComplete={this.handleThickness}\n                />\n              </View>\n\n              <View style={styles.tempButtons}>\n                <View\n                  style={{\n                    justifyContent: 'flex-end', \n                    paddingHorizontal: 5,}}>\n                  <TouchableOpacity\n                    style={[styles.functionButton]}\n                    >\n                    <Text\n                      style={styles.tempIcons, {color: '#073ead'}}>\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width={device.height * 0.03} height={device.height * 0.03} fill=\"currentColor\" class=\"bi bi-arrow-counterclockwise\" viewBox=\"0 0 16 16\">\n                        <path fill-rule=\"evenodd\" d=\"M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z\"/>\n                        <path d=\"M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z\"/>\n                      </svg>\n                    </Text>\n                  </TouchableOpacity> \n                </View>\n                <View\n                  style={{justifyContent: 'flex-end', paddingHorizontal: 5}}>\n                  <TouchableOpacity\n                    style={[styles.functionButton]}\n                    >\n                    <Text\n                      style={styles.tempIcons, {color: '#073ead'}}>\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width={device.height * 0.03} height={device.height * 0.03} fill=\"currentColor\" class=\"bi bi-arrow-clockwise\" viewBox=\"0 0 16 16\">\n                        <path fill-rule=\"evenodd\" d=\"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z\"/>\n                        <path d=\"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z\"/>\n                      </svg>\n                    </Text>\n                  </TouchableOpacity>\n                </View>\n                <View\n                  style={{justifyContent: 'flex-end', paddingHorizontal: 5}}>\n                  <TouchableOpacity\n                    style={[styles.functionButton]}\n                    >\n                    <Text\n                      style={styles.tempIcons, {color: '#07235c',}}>\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width={device.height * 0.03} height={device.height * 0.03} fill=\"currentColor\" class=\"bi bi-pencil-fill\" viewBox=\"0 0 16 16\">\n                        <path d=\"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z\"/>\n                      </svg>\n                    </Text>\n                  </TouchableOpacity>\n                </View>\n                <View\n                  style={{justifyContent: 'flex-end', paddingHorizontal: 5}}>\n                  <TouchableOpacity\n                    style={[styles.functionButton]}\n                    >\n                    <Text\n                      style={styles.tempIcons, {color: '#07235c',}}>\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width={device.height * 0.03} height={device.height * 0.03} fill=\"currentColor\" class=\"bi bi-eraser-fill\" viewBox=\"0 0 16 16\">\n                        <path d=\"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z\"/>\n                      </svg>\n                    </Text>\n                  </TouchableOpacity>\n                </View>\n                <View\n                  style={{justifyContent: 'flex-end', paddingHorizontal: 5}}>\n                  <TouchableOpacity\n                    style={[styles.functionButton]}\n                    >\n                    <Text\n                      style={styles.tempIcons, {color: '#07235c',}}>\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width={device.height * 0.03} height={device.height * 0.03} fill=\"currentColor\" class=\"bi bi-trash-fill\" viewBox=\"0 0 16 16\">\n                        <path d=\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z\"/>\n                      </svg>\n                    </Text>\n                  </TouchableOpacity>\n\n                </View>\n              </View>\n            </View>\n          {/* Color palette buttons */}\n          <View\n            style={{\n              flexDirection: 'row',\n              justifyContent: 'space-around',\n              alignItems: 'center',\n            }}>\n            <View style={{flexDirection: 'row'}}>\n              {colorMap.colors.map(obj => {\n                return (\n                  <View style={{margin: 2}}>\n                    <TouchableOpacity\n                      style={[\n                        styles.functionButton,\n                        {backgroundColor: obj.color},\n                      ]}\n                      onPress={() => {\n                        this.setState({color: obj.color});\n                      }}>\n                      <Text\n                        style={{\n                          color: 'white',\n                          fontSize: device.height * 0.025,\n                        }}>\n                        {obj.label}\n                      </Text>\n                    </TouchableOpacity>\n                  </View>\n                );\n              })}\n            </View>\n            <Text style={{marginRight: 8, fontSize: device.height * 0.025}}>\n              {this.state.message}\n            </Text>\n          </View>\n          {/* Style buttons */}\n          <View\n            style={{\n              flexDirection: 'row',\n              justifyContent: 'space-around',\n              alignItems: 'center',\n            }}>\n            <View style={{flexDirection: 'row'}}>\n              {/* None style button */}\n              <View style={{margin: 2}}>\n                <TouchableOpacity\n                  style={[styles.functionButton, {backgroundColor: 'gray'}]}\n                  onPress={() => {\n                    this.setState(prevState => ({\n                      ...prevState,\n                      displayedImageData: this.state.generatedImageData,\n                    }));\n                  }}>\n                  <Text style={{color: 'white', fontSize: device.height * 0.024,}}> None </Text>\n                </TouchableOpacity>\n              </View>\n              {/* Programmatically render all style options */}\n              {styleTransferOptions.styles.map(obj => {\n                return (\n                  <View style={{margin: 2}}>\n                    <TouchableOpacity\n                      style={[styles.functionButton, {backgroundColor: 'gray'}]}\n                      onPress={() => {\n                        this.sendRequestStyleHelper(obj.name);\n                      }}>\n                      <Text\n                        style={{\n                          color: 'white',\n                          fontSize: device.height * 0.024,\n                        }}>\n                        {obj.label}\n                      </Text>\n                    </TouchableOpacity>\n                  </View>\n                );\n              })}\n            </View>\n            <Text style={{marginRight: 8, fontSize: device.height * 0.024}}>\n              {this.state.message}\n            </Text>\n          </View>\n        </View>\n\n        <View style={styles.genGroup}>\n          {/* Displayed image */}\n          <View style={styles.generatedImageBox}>\n            {this.state.displayedImageData != null ? (\n              <Image\n                style={styles.generatedImage}\n                source={{uri: this.state.displayedImageData}}\n              />\n            ) : null}\n          </View>\n          {/* Generate button */}\n          <View style={styles.genButton}>\n            <TouchableOpacity\n              style={[styles.functionButton, {backgroundColor: \"#841584\"}]}\n                onPress={this.grabPixels.bind(this)}\n              >\n              <Text\n                style={{\n                  color: 'white',\n                  alignItems: 'center',\n                  justifyContent: 'venter',\n                  fontSize: device.height * 0.035,\n                }}>\n                {\"Generate!\"}\n              </Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'space-evenly',\n    backgroundColor: 'skyblue',\n    paddingTop: device.height * 0.02,\n  },\n\n  drawBox: {\n    flex: 1,\n    backgroundColor: 'white',\n    borderColor: 'lightblue',\n    borderWidth: 10,\n    width: device.width * 0.5,\n    height: device.height * 0.85,\n  },\n  generatedImageBox: {\n    borderWidth: 10,\n    borderColor: 'lightblue',\n\n    width: device.width * 0.45,\n    height: device.height * 0.85,\n  },\n  generatedImage: {\n    width: device.width * 0.45,\n    height: device.height * 0.85,\n  },\n  functionButton: {\n    padding: 4,\n    borderRadius: 5,\n  },\n  drawGroup: {\n    flexDirection: 'column',\n  },\n  genGroup: {\n    flexDirection: 'column',\n  },\n  genButton: {\n    borderRadius: 5,\n    paddingTop: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  strokeGroup: {\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  tempButtons: {\n    height: 40,\n    width: 70,\n    flexDirection: 'row',\n  },\n  tempIcons: {\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  toolGroup: {\n    flexDirection: 'row',\n  },\n});\n"]},"metadata":{},"sourceType":"module"}