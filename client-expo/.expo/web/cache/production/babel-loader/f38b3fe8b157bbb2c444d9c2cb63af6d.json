{"ast":null,"code":"Object.defineProperty(exports,\"__esModule\",{value:true});exports.webviewEvents=exports.webviewProperties=exports.webviewMethods=exports.webviewConstructor=exports.webviewTarget=exports.constructors=exports.WEBVIEW_TARGET=void 0;function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==='function'){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable;}));}ownKeys.forEach(function(key){_defineProperty(target,key,source[key]);});}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _construct(Parent,args,Class){if(typeof Reflect!==\"undefined\"&&Reflect.construct){_construct=Reflect.construct;}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Parent.bind.apply(Parent,a);var instance=new Constructor();if(Class)_setPrototypeOf(instance,Class.prototype);return instance;};}return _construct.apply(null,arguments);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}var WEBVIEW_TARGET='@@WEBVIEW_TARGET';exports.WEBVIEW_TARGET=WEBVIEW_TARGET;var constructors={};exports.constructors=constructors;var webviewTarget=function webviewTarget(targetName){return function(target){target.prototype[WEBVIEW_TARGET]=targetName;};};exports.webviewTarget=webviewTarget;var ID=function ID(){return Math.random().toString(32).slice(2);};var SPECIAL_CONSTRUCTOR={ImageData:{className:'Uint8ClampedArray',paramNum:0}};var webviewConstructor=function webviewConstructor(constructorName){return function(target){constructors[constructorName]=target;target.constructLocally=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _construct(target,args.concat([true]));};target.prototype.onConstruction=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}if(SPECIAL_CONSTRUCTOR[constructorName]!==undefined){var _SPECIAL_CONSTRUCTOR$=SPECIAL_CONSTRUCTOR[constructorName],className=_SPECIAL_CONSTRUCTOR$.className,paramNum=_SPECIAL_CONSTRUCTOR$.paramNum;args[paramNum]={className:className,classArgs:[args[paramNum]]};}this[WEBVIEW_TARGET]=ID();this.postMessage({type:'construct',payload:{constructor:constructorName,id:this[WEBVIEW_TARGET],args:args}});};target.prototype.toJSON=function(){return{__ref__:this[WEBVIEW_TARGET]};};};};exports.webviewConstructor=webviewConstructor;var webviewMethods=function webviewMethods(methods){return function(target){var _loop=function _loop(method){target.prototype[method]=function(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}return this.postMessage({type:'exec',payload:{target:this[WEBVIEW_TARGET],method:method,args:args}});};};for(var _iterator=methods,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol===\"function\"?Symbol.iterator:\"@@iterator\"]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref=_i.value;}var method=_ref;_loop(method);}};};exports.webviewMethods=webviewMethods;var webviewProperties=function webviewProperties(properties){return function(target){var _loop2=function _loop2(key){var initialValue=properties[key];var privateKey=\"__\"+key+\"__\";target.prototype[privateKey]=initialValue;Object.defineProperty(target.prototype,key,{get:function get(){return this[privateKey];},set:function set(value){this.postMessage({type:'set',payload:{target:this[WEBVIEW_TARGET],key:key,value:value}});if(this.forceUpdate){this.forceUpdate();}return this[privateKey]=value;}});};var _arr=Object.keys(properties);for(var _i2=0;_i2<_arr.length;_i2++){var key=_arr[_i2];_loop2(key);}};};exports.webviewProperties=webviewProperties;var webviewEvents=function webviewEvents(types){return function(target){var onConstruction=target.prototype.onConstruction;target.prototype.onConstruction=function(){if(onConstruction){onConstruction.call(this);}this.postMessage({type:'listen',payload:{types:types,target:this[WEBVIEW_TARGET]}});};target.prototype.addEventListener=function(type,callback){var _this=this;this.addMessageListener(function(message){if(message&&message.type==='event'&&message.payload.target[WEBVIEW_TARGET]===_this[WEBVIEW_TARGET]&&message.payload.type===type){for(var key in message.payload.target){var value=message.payload.target[key];if(key in _this&&_this[key]!==value){_this[key]=value;}}callback(_objectSpread({},message.payload,{target:_this}));}});};};};exports.webviewEvents=webviewEvents;","map":{"version":3,"sources":["/mnt/427bdd3d-17db-4d44-b722-f3e4fd35d808/projects/gauGAN/hai-art/client-expo/node_modules/react-native-canvas/dist/webview-binders.js"],"names":["Object","defineProperty","exports","value","webviewEvents","webviewProperties","webviewMethods","webviewConstructor","webviewTarget","constructors","WEBVIEW_TARGET","_objectSpread","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","configurable","writable","_construct","Parent","args","Class","Reflect","construct","a","push","apply","Constructor","bind","instance","_setPrototypeOf","prototype","o","p","setPrototypeOf","__proto__","targetName","ID","Math","random","toString","slice","SPECIAL_CONSTRUCTOR","ImageData","className","paramNum","constructorName","constructLocally","_len","Array","_key","onConstruction","_len2","_key2","undefined","_SPECIAL_CONSTRUCTOR$","classArgs","postMessage","type","payload","constructor","id","toJSON","__ref__","methods","_loop","method","_len3","_key3","_iterator","_isArray","isArray","_i","Symbol","iterator","_ref","next","done","properties","_loop2","initialValue","privateKey","get","set","forceUpdate","_arr","_i2","types","call","addEventListener","callback","_this","addMessageListener","message"],"mappings":"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","sourcesContent":["Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.webviewEvents = exports.webviewProperties = exports.webviewMethods = exports.webviewConstructor = exports.webviewTarget = exports.constructors = exports.WEBVIEW_TARGET = void 0;\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _construct(Parent, args, Class) { if (typeof Reflect !== \"undefined\" && Reflect.construct) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Parent.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar WEBVIEW_TARGET = '@@WEBVIEW_TARGET';\nexports.WEBVIEW_TARGET = WEBVIEW_TARGET;\nvar constructors = {};\nexports.constructors = constructors;\n\nvar webviewTarget = function webviewTarget(targetName) {\n  return function (target) {\n    target.prototype[WEBVIEW_TARGET] = targetName;\n  };\n};\n\nexports.webviewTarget = webviewTarget;\n\nvar ID = function ID() {\n  return Math.random().toString(32).slice(2);\n};\n\nvar SPECIAL_CONSTRUCTOR = {\n  ImageData: {\n    className: 'Uint8ClampedArray',\n    paramNum: 0\n  }\n};\n\nvar webviewConstructor = function webviewConstructor(constructorName) {\n  return function (target) {\n    constructors[constructorName] = target;\n\n    target.constructLocally = function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _construct(target, args.concat([true]));\n    };\n\n    target.prototype.onConstruction = function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      if (SPECIAL_CONSTRUCTOR[constructorName] !== undefined) {\n        var _SPECIAL_CONSTRUCTOR$ = SPECIAL_CONSTRUCTOR[constructorName],\n            className = _SPECIAL_CONSTRUCTOR$.className,\n            paramNum = _SPECIAL_CONSTRUCTOR$.paramNum;\n        args[paramNum] = {\n          className: className,\n          classArgs: [args[paramNum]]\n        };\n      }\n\n      this[WEBVIEW_TARGET] = ID();\n      this.postMessage({\n        type: 'construct',\n        payload: {\n          constructor: constructorName,\n          id: this[WEBVIEW_TARGET],\n          args: args\n        }\n      });\n    };\n\n    target.prototype.toJSON = function () {\n      return {\n        __ref__: this[WEBVIEW_TARGET]\n      };\n    };\n  };\n};\n\nexports.webviewConstructor = webviewConstructor;\n\nvar webviewMethods = function webviewMethods(methods) {\n  return function (target) {\n    var _loop = function _loop(method) {\n      target.prototype[method] = function () {\n        for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n          args[_key3] = arguments[_key3];\n        }\n\n        return this.postMessage({\n          type: 'exec',\n          payload: {\n            target: this[WEBVIEW_TARGET],\n            method: method,\n            args: args\n          }\n        });\n      };\n    };\n\n    for (var _iterator = methods, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var method = _ref;\n\n      _loop(method);\n    }\n  };\n};\n\nexports.webviewMethods = webviewMethods;\n\nvar webviewProperties = function webviewProperties(properties) {\n  return function (target) {\n    var _loop2 = function _loop2(key) {\n      var initialValue = properties[key];\n      var privateKey = \"__\" + key + \"__\";\n      target.prototype[privateKey] = initialValue;\n      Object.defineProperty(target.prototype, key, {\n        get: function get() {\n          return this[privateKey];\n        },\n        set: function set(value) {\n          this.postMessage({\n            type: 'set',\n            payload: {\n              target: this[WEBVIEW_TARGET],\n              key: key,\n              value: value\n            }\n          });\n\n          if (this.forceUpdate) {\n            this.forceUpdate();\n          }\n\n          return this[privateKey] = value;\n        }\n      });\n    };\n\n    var _arr = Object.keys(properties);\n\n    for (var _i2 = 0; _i2 < _arr.length; _i2++) {\n      var key = _arr[_i2];\n\n      _loop2(key);\n    }\n  };\n};\n\nexports.webviewProperties = webviewProperties;\n\nvar webviewEvents = function webviewEvents(types) {\n  return function (target) {\n    var onConstruction = target.prototype.onConstruction;\n\n    target.prototype.onConstruction = function () {\n      if (onConstruction) {\n        onConstruction.call(this);\n      }\n\n      this.postMessage({\n        type: 'listen',\n        payload: {\n          types: types,\n          target: this[WEBVIEW_TARGET]\n        }\n      });\n    };\n\n    target.prototype.addEventListener = function (type, callback) {\n      var _this = this;\n\n      this.addMessageListener(function (message) {\n        if (message && message.type === 'event' && message.payload.target[WEBVIEW_TARGET] === _this[WEBVIEW_TARGET] && message.payload.type === type) {\n          for (var key in message.payload.target) {\n            var value = message.payload.target[key];\n\n            if (key in _this && _this[key] !== value) {\n              _this[key] = value;\n            }\n          }\n\n          callback(_objectSpread({}, message.payload, {\n            target: _this\n          }));\n        }\n      });\n    };\n  };\n};\n\nexports.webviewEvents = webviewEvents;"]},"metadata":{},"sourceType":"script"}