{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from 'axios';\nexport function sendRequest(imageData) {\n  var res;\n  return _regeneratorRuntime.async(function sendRequest$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          console.log('Sending API request');\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(axios.post(url = 'http://localhost:8000/generate', data = {\n            imageData: imageData\n          }).then(function (response) {\n            return response.data.data;\n          }).catch(function (error) {\n            console.log('Error generating image: ' + error.message);\n            throw error;\n          }));\n\n        case 3:\n          res = _context.sent;\n          return _context.abrupt(\"return\", res);\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nexport function sendRequestStyle(imageData, style) {\n  var res;\n  return _regeneratorRuntime.async(function sendRequestStyle$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regeneratorRuntime.awrap(axios.post(url = 'http://localhost:8000/stylize', data = {\n            imageData: imageData,\n            style: style\n          }).then(function (response) {\n            console.log(response.data.message);\n            return response.data.data;\n          }).catch(function (error) {\n            console.log('Error generating image: ' + error.message);\n            throw error;\n          }));\n\n        case 2:\n          res = _context2.sent;\n          return _context2.abrupt(\"return\", res);\n\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}","map":{"version":3,"sources":["C:/Users/aapri/Repo/draw-therapy/client-expo/api/modelApi.js"],"names":["axios","sendRequest","imageData","console","log","post","url","data","then","response","catch","error","message","res","sendRequestStyle","style"],"mappings":";AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,SAAeC,WAAf,CAA2BC,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AACLC,UAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AADK;AAAA,2CAQaJ,KAAK,CACpBK,IADe,CAEbC,GAAG,GAAG,gCAFO,EAGbC,IAAI,GAAG;AACNL,YAAAA,SAAS,EAAEA;AADL,WAHM,EAQfM,IARe,CASd,UAAUC,QAAV,EAAoB;AAYlB,mBAAOA,QAAQ,CAACF,IAAT,CAAcA,IAArB;AACD,WAtBa,EAwBfG,KAxBe,CAwBT,UAAUC,KAAV,EAAiB;AACtBR,YAAAA,OAAO,CAACC,GAAR,CAAY,6BAA6BO,KAAK,CAACC,OAA/C;AACA,kBAAMD,KAAN;AACD,WA3Be,CARb;;AAAA;AAQCE,UAAAA,GARD;AAAA,2CAoCEA,GApCF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuCP,OAAO,SAAeC,gBAAf,CAAgCZ,SAAhC,EAA2Ca,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEWf,KAAK,CAClBK,IADa,CAEXC,GAAG,GAAG,+BAFK,EAGXC,IAAI,GAAG;AACNL,YAAAA,SAAS,EAAEA,SADL;AAENa,YAAAA,KAAK,EAAEA;AAFD,WAHI,EAQbP,IARa,CAQR,UAAUC,QAAV,EAAoB;AACxBN,YAAAA,OAAO,CAACC,GAAR,CAAYK,QAAQ,CAACF,IAAT,CAAcK,OAA1B;AAIA,mBAAOH,QAAQ,CAACF,IAAT,CAAcA,IAArB;AACD,WAda,EAebG,KAfa,CAeP,UAAUC,KAAV,EAAiB;AACtBR,YAAAA,OAAO,CAACC,GAAR,CAAY,6BAA6BO,KAAK,CAACC,OAA/C;AACA,kBAAMD,KAAN;AACD,WAlBa,CAFX;;AAAA;AAEDE,UAAAA,GAFC;AAAA,4CAqBEA,GArBF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["// import Snackbar from 'react-native-snackbar';\r\nimport axios from 'axios';\r\n\r\nexport async function sendRequest(imageData) {\r\n  console.log('Sending API request');\r\n  // Snackbar.show({\r\n  //   text: 'Sending API request to server...',\r\n  //   duration: Snackbar.LENGTH_SHORT,\r\n  // });\r\n\r\n  // Send the request to backend\r\n  const res = await axios\r\n    .post(\r\n      (url = 'http://localhost:8000/generate'),\r\n      (data = {\r\n        imageData: imageData,\r\n      }),\r\n    )\r\n    // Get reponse\r\n    .then(\r\n      function (response) {\r\n        // console.log(response.data.message);\r\n        // console.log(response.data.data);\r\n\r\n        // Show toast message on bottom of app\r\n        // Snackbar.show({\r\n        //   text: 'Received response!',\r\n        //   duration: Snackbar.LENGTH_SHORT,\r\n        // });\r\n\r\n        // Set generated image data\r\n        // Update the generated image state\r\n        return response.data.data;\r\n      }, // JL: Need to bind context to this in order to use setState without error, not sure why\r\n    )\r\n    .catch(function (error) {\r\n      console.log('Error generating image: ' + error.message);\r\n      throw error;\r\n    });\r\n  return res;\r\n}\r\n\r\nexport async function sendRequestStyle(imageData, style) {\r\n  // Send stylize image request\r\n  var res = await axios\r\n    .post(\r\n      (url = 'http://localhost:8000/stylize'),\r\n      (data = {\r\n        imageData: imageData,\r\n        style: style,\r\n      }),\r\n    )\r\n    .then(function (response) {\r\n      console.log(response.data.message);\r\n\r\n      // Set generated image data\r\n      // Update the generated image state\r\n      return response.data.data;\r\n    })\r\n    .catch(function (error) {\r\n      console.log('Error generating image: ' + error.message);\r\n      throw error;\r\n    });\r\n  return res;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}