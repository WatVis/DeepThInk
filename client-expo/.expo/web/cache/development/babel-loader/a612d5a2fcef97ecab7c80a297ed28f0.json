{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from 'axios';\nexport function sendRequest(imageData) {\n  var res;\n  return _regeneratorRuntime.async(function sendRequest$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          console.log('Sending API request');\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(axios.post(url = 'http://10.0.2.2:8000/generate', data = {\n            imageData: imageData\n          }).then(function (response) {\n            Snackbar.show({\n              text: 'Received response!',\n              duration: Snackbar.LENGTH_SHORT\n            });\n            return response.data.data;\n          }).catch(function (error) {\n            console.log('Error generating image: ' + error.message);\n            throw error;\n          }));\n\n        case 3:\n          res = _context.sent;\n          return _context.abrupt(\"return\", res);\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nexport function sendRequestStyle(imageData, style) {\n  var res;\n  return _regeneratorRuntime.async(function sendRequestStyle$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regeneratorRuntime.awrap(axios.post(url = 'http://10.0.2.2:8000/stylize', data = {\n            imageData: imageData,\n            style: style\n          }).then(function (response) {\n            console.log(response.data.message);\n            return response.data.data;\n          }).catch(function (error) {\n            console.log('Error generating image: ' + error.message);\n            throw error;\n          }));\n\n        case 2:\n          res = _context2.sent;\n          return _context2.abrupt(\"return\", res);\n\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}","map":{"version":3,"sources":["/mnt/427bdd3d-17db-4d44-b722-f3e4fd35d808/projects/gauGAN/hai-art/client-expo/api/modelApi.js"],"names":["axios","sendRequest","imageData","console","log","post","url","data","then","response","Snackbar","show","text","duration","LENGTH_SHORT","catch","error","message","res","sendRequestStyle","style"],"mappings":";AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,SAAeC,WAAf,CAA2BC,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AACLC,UAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AADK;AAAA,2CAQaJ,KAAK,CACpBK,IADe,CAEbC,GAAG,GAAG,+BAFO,EAGbC,IAAI,GAAG;AACNL,YAAAA,SAAS,EAAEA;AADL,WAHM,EAQfM,IARe,CASd,UAAUC,QAAV,EAAoB;AAKlBC,YAAAA,QAAQ,CAACC,IAAT,CAAc;AACZC,cAAAA,IAAI,EAAE,oBADM;AAEZC,cAAAA,QAAQ,EAAEH,QAAQ,CAACI;AAFP,aAAd;AAOA,mBAAOL,QAAQ,CAACF,IAAT,CAAcA,IAArB;AACD,WAtBa,EAwBfQ,KAxBe,CAwBT,UAAUC,KAAV,EAAiB;AACtBb,YAAAA,OAAO,CAACC,GAAR,CAAY,6BAA6BY,KAAK,CAACC,OAA/C;AACA,kBAAMD,KAAN;AACD,WA3Be,CARb;;AAAA;AAQCE,UAAAA,GARD;AAAA,2CAoCEA,GApCF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuCP,OAAO,SAAeC,gBAAf,CAAgCjB,SAAhC,EAA2CkB,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEWpB,KAAK,CAClBK,IADa,CAEXC,GAAG,GAAG,8BAFK,EAGXC,IAAI,GAAG;AACNL,YAAAA,SAAS,EAAEA,SADL;AAENkB,YAAAA,KAAK,EAAEA;AAFD,WAHI,EAQbZ,IARa,CAQR,UAAUC,QAAV,EAAoB;AACxBN,YAAAA,OAAO,CAACC,GAAR,CAAYK,QAAQ,CAACF,IAAT,CAAcU,OAA1B;AAIA,mBAAOR,QAAQ,CAACF,IAAT,CAAcA,IAArB;AACD,WAda,EAebQ,KAfa,CAeP,UAAUC,KAAV,EAAiB;AACtBb,YAAAA,OAAO,CAACC,GAAR,CAAY,6BAA6BY,KAAK,CAACC,OAA/C;AACA,kBAAMD,KAAN;AACD,WAlBa,CAFX;;AAAA;AAEDE,UAAAA,GAFC;AAAA,4CAqBEA,GArBF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["// import Snackbar from 'react-native-snackbar';\nimport axios from 'axios';\n\nexport async function sendRequest(imageData) {\n  console.log('Sending API request');\n  // Snackbar.show({\n  //   text: 'Sending API request to server...',\n  //   duration: Snackbar.LENGTH_SHORT,\n  // });\n\n  // Send the request to backend\n  const res = await axios\n    .post(\n      (url = 'http://10.0.2.2:8000/generate'),\n      (data = {\n        imageData: imageData,\n      }),\n    )\n    // Get reponse\n    .then(\n      function (response) {\n        // console.log(response.data.message);\n        // console.log(response.data.data);\n\n        // Show toast message on bottom of app\n        Snackbar.show({\n          text: 'Received response!',\n          duration: Snackbar.LENGTH_SHORT,\n        });\n\n        // Set generated image data\n        // Update the generated image state\n        return response.data.data;\n      }, // JL: Need to bind context to this in order to use setState without error, not sure why\n    )\n    .catch(function (error) {\n      console.log('Error generating image: ' + error.message);\n      throw error;\n    });\n  return res;\n}\n\nexport async function sendRequestStyle(imageData, style) {\n  // Send stylize image request\n  var res = await axios\n    .post(\n      (url = 'http://10.0.2.2:8000/stylize'),\n      (data = {\n        imageData: imageData,\n        style: style,\n      }),\n    )\n    .then(function (response) {\n      console.log(response.data.message);\n\n      // Set generated image data\n      // Update the generated image state\n      return response.data.data;\n    })\n    .catch(function (error) {\n      console.log('Error generating image: ' + error.message);\n      throw error;\n    });\n  return res;\n}\n"]},"metadata":{},"sourceType":"module"}